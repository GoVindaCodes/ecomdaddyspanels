(this["webpackJsonpdashtar-admin"]=this["webpackJsonpdashtar-admin"]||[]).push([[28],{1226:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a(12),l=a(34),n=a(700),c=a(166),d=a(680),i=a(659),o=a(656),j=a(684),b=a(698),u=(a(723),a(689)),g=a(650),h=a(11),O=a(88),x=a.n(O),m=(a(651),a(2));var p=e=>{let{orders:t}=e;const[a,r]=Object(s.useState)([]),{data:n,loading:d}=Object(c.a)(g.a.getAllCustomers),{globalSetting:o}=Object(i.a)(n);return Object(s.useEffect)((()=>{(async()=>{try{console.log("Fetching customerorders...");const e=await h.a.get("/api/customer");console.log("customerOrders fetched successfully:",e),r(e)}catch(e){console.error("Error fetching categories:",e)}})()}),[]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(l.TableBody,{children:null===t||void 0===t?void 0:t.map((e=>{var t,a,s;return Object(m.jsxs)(l.TableRow,{children:[Object(m.jsx)(l.TableCell,{children:Object(m.jsx)("span",{className:"font-semibold uppercase text-xs",children:null===e||void 0===e||null===(t=e._id)||void 0===t?void 0:t.substring(20,24)})}),Object(m.jsx)(l.TableCell,{children:Object(m.jsxs)("span",{className:"text-sm",children:[x()(e.createdAt).format("MMM D, YYYY"),Object(u.a)(e.createdAt,null===o||void 0===o?void 0:o.default_date_format)]})}),Object(m.jsx)(l.TableCell,{children:Object(m.jsx)("span",{className:"text-sm",children:null===e||void 0===e||null===(a=e.user_info)||void 0===a?void 0:a.address})}),Object(m.jsxs)(l.TableCell,{children:[" ",Object(m.jsx)("span",{className:"text-sm",children:null===(s=e.user_info)||void 0===s?void 0:s.contact})," "]}),Object(m.jsx)(l.TableCell,{children:Object(m.jsx)("span",{className:"text-sm font-semibold",children:e.paymentMethod})}),Object(m.jsxs)(l.TableCell,{children:[" ",Object(m.jsxs)("span",{className:"text-sm font-semibold",children:["$",parseFloat(e.total).toFixed(2)]})," "]}),Object(m.jsx)(l.TableCell,{className:"text-center",children:Object(m.jsx)(b.a,{status:e.status})})]},e._id)}))})})},v=a(632);t.default=()=>{const{id:e}=Object(r.i)(),{t:t}=Object(v.a)(),{data:a,loading:s,error:b}=Object(c.a)((()=>d.a.getOrderCustomer(e))),{handleChangePage:u,totalResults:g,resultsPerPage:h,dataTable:O}=Object(i.a)(a);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.a,{children:t("CustomerOrderList")}),s&&Object(m.jsx)(j.a,{loading:s}),!b&&!s&&0===O.length&&Object(m.jsx)("div",{className:"w-full bg-white rounded-md dark:bg-gray-800",children:Object(m.jsxs)("div",{className:"p-8 text-center",children:[Object(m.jsx)("span",{className:"flex justify-center my-30 text-red-500 font-semibold text-6xl",children:Object(m.jsx)(n.a,{})}),Object(m.jsx)("h2",{className:"font-medium text-base mt-4 text-gray-600",children:t("CustomerOrderEmpty")})]})}),a.length>0&&!b&&!s?Object(m.jsxs)(l.TableContainer,{className:"mb-8",children:[Object(m.jsxs)(l.Table,{children:[Object(m.jsx)(l.TableHeader,{children:Object(m.jsxs)("tr",{children:[Object(m.jsxs)(l.TableCell,{children:[" ",t("CustomerOrderId")," "]}),Object(m.jsx)(l.TableCell,{children:t("CustomerOrderTime")}),Object(m.jsx)(l.TableCell,{children:t("CustomerShippingAddress")}),Object(m.jsxs)(l.TableCell,{children:[t("Phone")," "]}),Object(m.jsxs)(l.TableCell,{children:[t("CustomerOrderMethod")," "]}),Object(m.jsx)(l.TableCell,{children:t("Amount")}),Object(m.jsx)(l.TableCell,{className:"text-center",children:t("CustomerOrderAction")})]})}),Object(m.jsx)(p,{orders:O})]}),Object(m.jsx)(l.TableFooter,{children:Object(m.jsx)(l.Pagination,{totalResults:g,resultsPerPage:h,onChange:u,label:"Table navigation"})})]}):null]})}},661:function(e,t){function a(){return e.exports=a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,a.apply(this,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},680:function(e,t,a){"use strict";var s=a(11);const r={getAllOrders:async()=>s.a.get("/api/orders"),getAllOrdersTwo:async e=>{let{invoice:t,body:a,headers:r}=e;const l=null!==t?t:"";return s.a.get(`/api/orders/all?invoice=${l}`,a,r)},getRecentOrders:async e=>{let{page:t=1,limit:a=8,startDate:r="1:00",endDate:l="23:59"}=e;return s.a.get(`/api/orders/recent?page=${t}&limit=${a}&startDate=${r}&endDate=${l}`)},getOrderCustomer:async(e,t)=>s.a.get(`/api/orders/customer/${e}`,t),getOrderById:async(e,t)=>s.a.get(`/api/orders/${e}`,t),updateOrder:async(e,t,a)=>s.a.put(`/api/orders/${e}`,t,a),deleteOrder:async e=>s.a.delete(`/api/orders/${e}`),getDashboardOrdersData:async e=>{let{page:t=1,limit:a=8,endDate:r="23:59"}=e;return s.a.get(`/api/orders/dashboard?page=${t}&limit=${a}&endDate=${r}`)},getDashboardAmount:async()=>s.a.get("/api/orders/dashboard-amount"),getDashboardCount:async()=>s.a.get("/api/orders/dashboard-count"),getDashboardRecentOrder:async e=>{let{page:t=1,limit:a=8}=e;return s.a.get(`/api/orders/dashboard-recent-order?page=${t}&limit=${a}`)},getBestSellerProductChart:async()=>s.a.get("/api/orders/best-seller/chart")};t.a=r},684:function(e,t,a){"use strict";a(0);var s=a(688),r=a.n(s),l=a(2);t.a=e=>{let{loading:t}=e;return Object(l.jsx)("div",{className:"text-lg text-center py-6",children:Object(l.jsx)(r.a,{color:"#34D399",loading:t,height:25,width:3,radius:3,margin:4})})}},689:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return l}));var s=a(88);const r=(e,t)=>s(e).format(t),l=(e,t,a)=>s(e).format(`${t} ${a}`)},698:function(e,t,a){"use strict";var s=a(34),r=a(2);t.a=e=>{let{status:t}=e;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("span",{className:"font-serif",children:[("Pending"===t||"Inactive"===t)&&Object(r.jsx)(s.Badge,{type:"warning",children:t}),"Waiting for Password Reset"===t&&Object(r.jsx)(s.Badge,{type:"warning",children:t}),"Processing"===t&&Object(r.jsx)(s.Badge,{children:t}),("Delivered"===t||"Active"===t)&&Object(r.jsx)(s.Badge,{type:"success",children:t}),"Cancel"===t&&Object(r.jsx)(s.Badge,{type:"danger",children:t}),"POS-Completed"===t&&Object(r.jsx)(s.Badge,{className:"dark:bg-teal-900 bg-teal-100",children:t})]})})}},723:function(e,t,a){"use strict";var s=a(0),r=a(34),l=a(680),n=a(15),c=a(52),d=a(2);t.a=e=>{let{id:t,order:a}=e;const{setIsUpdate:i}=Object(s.useContext)(c.a);return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(r.Select,{onChange:e=>((e,t)=>{l.a.updateOrder(e,{status:t}).then((e=>{Object(n.c)(e.message),i(!0)})).catch((e=>Object(n.b)(e.message)))})(t,e.target.value),className:"border border-gray-50 bg-gray-50 dark:border-gray-700 h-8 rounded-md text-xs focus:border-gray-400 focus:outline-none",children:[Object(d.jsx)("option",{value:"status",defaultValue:!0,hidden:!0,children:null===a||void 0===a?void 0:a.status}),Object(d.jsx)("option",{defaultValue:"Delivered"===(null===a||void 0===a?void 0:a.status),value:"Delivered",children:"Delivered"}),Object(d.jsx)("option",{defaultValue:"Pending"===(null===a||void 0===a?void 0:a.status),value:"Pending",children:"Pending"}),Object(d.jsx)("option",{defaultValue:"Processing"===(null===a||void 0===a?void 0:a.status),value:"Processing",children:"Processing"}),Object(d.jsx)("option",{defaultValue:"Cancel"===(null===a||void 0===a?void 0:a.status),value:"Cancel",children:"Cancel"})]})})}}}]);
//# sourceMappingURL=28.6fa5fbbc.chunk.js.map